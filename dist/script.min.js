"use strict";Array.from||(Array.from=function(){function l(e){return"function"==typeof e||"[object Function]"===t.call(e)}function c(e){return e=function(e){e=Number(e);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(e),Math.min(Math.max(e,0),o)}var t=Object.prototype.toString,o=Math.pow(2,53)-1;return function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,r=1<arguments.length?arguments[1]:void 0;if(void 0!==r){if(!l(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(o=arguments[2])}for(var a,n=c(t.length),s=l(this)?Object(new this(n)):new Array(n),i=0;i<n;)a=t[i],s[i]=r?void 0===o?r(a,i):r.call(o,a,i):a,i+=1;return s.length=n,s}}());var root=document.querySelector("html"),configuration=ajaxCall({action:"configuration"}),language=root.getAttribute("lang"),isTouch="ontouchstart"in document.documentElement,body=root.querySelector("body"),header=body.querySelector("header"),mainMenu=header.querySelector("#menu-main-container"),hamburger=header.querySelector(".hamburger"),main=body.querySelector("main"),emailReg=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,position=root.scrollTop,scrollPosition=window.scrollY;function debounce(r,a,n){var s;return function(){var e=this,t=arguments,o=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||r.apply(e,t)},a),o&&r.apply(e,t)}}root.setAttribute("data-touch",isTouch);var uniqueID=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};function rgb2hex(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"#"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])}function hex2rgb(e,t){return e=e.replace("#",""),r=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),b=parseInt(e.substring(4,6),16),result="rgba("+r+", "+g+", "+b+", "+t/100+")",result}function addCSSRule(e,t,o,r){"insertRule"in e?e.insertRule(t+"{"+o+"}",r):"addRule"in e&&e.addRule(t,o,r)}function slugify(e){return e.toLowerCase().replace(/ /g,"-").replace(/ä/g,"ae").replace(/Ä/g,"ae").replace(/ö/g,"oe").replace(/Ö/g,"oe").replace(/ü/g,"ue").replace(/Ü/g,"ue").replace(/ß/g,"ss").replace(/[^\w-]+/g,"")}function isInViewport(e){e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function ajaxCall(getdata){var ajaxFile,ajaxFile;ajaxFile=getdata.path?"/"+getdata.path:"/ajax.php",event&&event.preventDefault();var access="access=granted&",sendData=Object.keys(getdata).map(function(e){return e+"="+getdata[e]}).join("&"),request=new XMLHttpRequest;request.open("POST",theme_directory+ajaxFile,!0),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.onload=function(){var results;200<=this.status&&this.status<400&&(results=JSON.parse(this.response),results.log&&console.log(results.log),results.action&&eval(results.action+"("+this.response+")"))},request.onerror=function(){},request.send(access+sendData)}function themeConfiguration(e){if(!1!==e.content&&"1"!==e.content.wp.HeaderCss&&e.content.gutenberg&&Array.isArray(e.content.gutenberg.ColorPalette))for(var t=e.content.gutenberg.ColorPalette,o=Object.keys(e.content.gutenberg.ColorPalette),r=0;r<o.length;r++)addCSSRule(document.styleSheets[0],"body.frontend .has-"+slugify(t[r].key)+"-background-color","background-color: "+t[r].value),addCSSRule(document.styleSheets[0],"body.frontend .has-"+slugify(t[r].key)+"-color","color: "+t[r].value)}function StickyMenu(e){var t=window.scrollY,o=header.offsetHeight;"load"==e&&!1===body.classList.contains("stickyable")?main.style.marginTop=o+"px":body.classList.contains("stickyable")&&scrollPosition<t&&(body.classList.add("sticky"),(o<t||"load"==e)&&(main.style.marginTop=o+"px")),t<o&&body.classList.contains("stickyable")&&(main.style.marginTop="",body.classList.remove("sticky")),0<(scrollPosition=t)?body.classList.add("scrolled"):body.classList.remove("scrolled")}var debounceSticky=debounce(function(){StickyMenu()},100),debounceStickyResize=debounce(function(){StickyMenu("load")},100),menuSub;function MenuToggler(){mainMenu.classList.toggle("hidden_mobile"),mainMenu.classList.toggle("hidden_desktop"),root.classList.toggle("noscroll"),body.classList.toggle("active-menu")}function subMenuToggler(e){e.preventDefault(),this.closest(".menu-item-has-children").classList.toggle("active")}function closeHamburgerMenu(e){e=e.target;null==e.closest("#menu-main-container")&&null==e.closest(".hamburger")&&body.classList.contains("active-menu")&&MenuToggler()}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",debounceSticky),window.addEventListener("resize",debounceStickyResize),window.onload=function(){StickyMenu("load")},hamburger&&hamburger.addEventListener("click",MenuToggler),mainMenu&&(menuSub=mainMenu.querySelectorAll(".menu-item-has-children .toggle"),0!==menuSub.length&&Array.from(menuSub).forEach(function(e){e.addEventListener("click",subMenuToggler),e.addEventListener("keypress",subMenuToggler)})),document.addEventListener("click",closeHamburgerMenu);var scrollToTopButtons=document.querySelectorAll("#scroll-to-top span");function funcCall(){var get_ajax_action=this.getAttribute("data-ajax-action"),get_action=this.getAttribute("data-action"),get_id=this.getAttribute("data-id"),config;get_ajax_action?(config={action:get_action,id:get_id},ajaxCall(config)):get_action&&eval(get_action+"()")}0!==scrollToTopButtons.length&&Array.from(scrollToTopButtons).forEach(function(e){e.addEventListener("click",scrollToTop),e.addEventListener("keypress",scrollToTop)});var actionButtons=document.querySelectorAll(".funcCall");function getDataAttributes(e){var o={};return[].forEach.call(e.attributes,function(e){var t;/^data-/.test(e.name)&&(t=e.name.substr(5).replace(/-(.)/g,function(e,t){return t.toUpperCase()}),o[t]=e.value)}),o}function toggleBlock(){this.classList.toggle("active")}0!==actionButtons.length&&Array.from(actionButtons).forEach(function(e){e.addEventListener("click",funcCall),e.addEventListener("keypress",funcCall)});var toggleButtons=document.querySelectorAll(".block-accordion > .accordion-item > .accordion-label");function checkOverlayContainers(e){var t=e.target;null==t.closest(".overlay-container")?(e=document.querySelectorAll(".overlay-container"))&&Array.from(e).forEach(function(e){e.classList.remove("active-iframe")}):t.closest(".overlay-container").classList.add("active-iframe")}function runPostSorting(){this.closest(".block-posts").querySelector("ul").classList.add("loading"),o=this.classList.contains("active")?"desc"==this.getAttribute("data-sortd")?(this.setAttribute("data-sortd","asc"),this.classList.remove("z-a"),"asc"):(this.setAttribute("data-sortd","desc"),this.classList.add("z-a"),"desc"):(t=this.closest(".sort-options").querySelectorAll("label"),Array.from(t).forEach(function(e){e.classList.remove("active"),e.setAttribute("data-sortd","asc")}),this.classList.add("active"),"asc");var e=this.closest(".block-posts").getAttribute("data-id"),t=this.getAttribute("data-sort");document.querySelector('.block-posts[data-id="'+e+'"] .sort-options input[name="postSortBy"]').value=t,document.querySelector('.block-posts[data-id="'+e+'"] .sort-options input[name="postSortDirection"]').value=o;var o=formValuesToAjax(this.closest('.block-posts[data-id="'+e+'"]').querySelector("form"));o.path="../mastertheme/classes/prefix_WPgutenberg/blocks/posts/ajax.php",o.action="loadPosts",o.id=e,ajaxCall(o)}function insertSortedPosts(e){document.querySelector('.block-posts[data-id="'+e.id+'"] ul').innerHTML=e.content,document.querySelector('.block-posts[data-id="'+e.id+'"] ul').classList.remove("loading")}0!==toggleButtons.length&&Array.from(toggleButtons).forEach(function(e){e.addEventListener("click",toggleBlock),e.addEventListener("keypress",toggleBlock)}),document.onfocusout=function(){setTimeout(function(){document.activeElement instanceof HTMLIFrameElement?document.querySelectorAll(".overlay-container").classList.add("active-iframe"):document.querySelectorAll(".overlay-container").classList.remove("active-iframe")},0)},document.addEventListener("click",checkOverlayContainers);var postSortLabel=document.querySelectorAll(".sort-options label");function runPostFilter(e){e.closest(".block-postsfilter").querySelector(".results").classList.add("loading");var t=e.closest(".block-postsfilter").getAttribute("data-id"),e=formValuesToAjax(e.closest('.block-postsfilter[data-id="'+t+'"]').querySelector("form"));e.path="../mastertheme/classes/prefix_WPgutenberg/blocks/postsfilter/ajax.php",e.action="loadPosts",e.id=t,ajaxCall(e)}function insertFilteredPosts(e){document.querySelector('.block-postsfilter[data-id="'+e.id+'"] .results').innerHTML=e.content,document.querySelector('.block-postsfilter[data-id="'+e.id+'"] .results').classList.remove("loading")}0!==postSortLabel.length&&Array.from(postSortLabel).forEach(function(e){e.addEventListener("click",runPostSorting),e.addEventListener("keypress",runPostSorting)});var postFilterInputs=document.querySelectorAll(".block-postsfilter input");function deselectRadioButtons(e){e=e||document,window.radioChecked||(window.radioChecked=null),window.radioClick=function(e){var t=e.target;if(e.keyCode)return t.checked=32!=e.keyCode;t.checked=window.radioChecked!=t,window.radioChecked=t.checked?t:null},e.querySelectorAll("input[type='radio']").forEach(function(e){e.setAttribute("onclick","radioClick(event)"),e.setAttribute("onkeyup","radioClick(event)")})}function formValuesToAjax(e){var o=[],t=e.querySelectorAll('input[type="text"], input[type="email"], input[type="hidden"], textarea');0!==t.length&&Array.from(t).forEach(function(e){o[e.name]=e.value});e=e.querySelectorAll("fieldset");return 0!==e.length&&Array.from(e).forEach(function(e){var t,e=e.querySelectorAll("input");0!==e.length&&(t=[],Array.from(e).forEach(function(e){e.checked&&t.push(e.value)}),o[e[0].name]=t.join("__"))}),o}function validateForm(e){var t=e.querySelectorAll("input, textarea, select");return 0!==t.length&&Array.from(t).forEach(function(e){validateInput(e)}),0===e.querySelectorAll(".required").length}function validateInput(e){var t=e.closest("li, span, div");if(t.hasAttribute("data-validation")){var o=t.dataset.validation;if("true"==o||"optional"==o){var r=e.type,a=e.value,n=e.name,e=!1;if("text"==r&&""!==a||"textarea"==r&&""!==a||"select-one"==r&&""!==a||"select-multiple"==r&&""!==a)e=!0;else if("email"==r&&""!==a&&emailReg.test(a))e=!0;else if("checkbox"==r||"radio"==r){for(var s,i=document.getElementsByName(n),l=0;l<i.length;l+=1)s=!(!i[l].checked&&!0!==s);!1!==s&&(e=!0)}(e="optional"==o&&""==a?!0:e)?t.classList.remove("required"):t.classList.add("required")}}}function adjustHeight(e){e.style.height=(e.scrollHeight,e.clientHeight,e.scrollHeight+"px")}function closePopUp(){root.classList.remove("popup-noscroll");var e=document.querySelector(".popup");e.classList.add("closed"),e.remove()}function loadPopUp(){body.insertAdjacentHTML("beforeend",'<div class="popup closed" data-content="img-popup"><div class="popup-container"><span class="close"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24.9 24.9" style="enable-background:new 0 0 24.9 24.9;" xml:space="preserve"><rect x="-3.7" y="10.9" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -5.1549 12.4451)" fill="#fff" width="32.2" height="3"/><rect x="10.9" y="-3.7" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -5.1549 12.4451)" fill="#fff" width="3" height="32.2"/></svg></span><div class="popup-content"></div></div></div>'),setTimeout(function(){var e=document.querySelector(".popup");root.classList.add("popup-noscroll"),e.classList.remove("closed");e=document.querySelectorAll(".popup > .popup-container > .close");0<e.length&&Array.from(e).forEach(function(e){e.addEventListener("click",closePopUp),e.addEventListener("keypress",closePopUp)})},500)}function loadImagePopUp(){loadPopUp(),setTimeout(function(e){var t=document.querySelector(".popup > .popup-container > .popup-content");t.insertAdjacentHTML("beforebegin",galleryArrowBefore),t.appendChild(e.cloneNode()),t.insertAdjacentHTML("afterend",galleryArrowAfter);e=e.closest(".add-popup");t.setAttribute("data-id",e.getAttribute("data-id"))},100,this)}0!==postFilterInputs.length&&Array.from(postFilterInputs).forEach(function(e){"text"==e.type?e.oninput=function(){runPostFilter(e)}:"checkbox"==e.type&&e.addEventListener("change",function(){runPostFilter(e)})}),deselectRadioButtons();var activeImagePopUps=document.querySelectorAll(".wp-block-image.add-popup img");0<activeImagePopUps.length&&Array.from(activeImagePopUps).forEach(function(e){e.addEventListener("click",loadImagePopUp),e.addEventListener("keypress",loadImagePopUp)});var galleryArrow='<svg xmlns="http://www.w3.org/2000/svg" width="60.043" height="113.137" viewBox="0 0 60.043 113.137"><path id="np_arrow_53562_FFFFFF" d="M30.457,114.121a3.473,3.473,0,0,1-4.912-4.912l50.635-50.64L25.545,7.929a3.475,3.475,0,0,1,4.917-4.912l53.089,53.1a3.476,3.476,0,0,1,0,4.917Z" transform="translate(84.57 115.138) rotate(180)" opacity="0.606"/></svg>',galleryArrowBefore='<span class="arrow back hidden">'+galleryArrow+"</span>",galleryArrowAfter='<span class="arrow next hidden">'+galleryArrow+"</span>",activeGalleries=document.querySelectorAll(".gallery-swiper, .gallery-grid");function addNavArrows(e){e.insertAdjacentHTML("afterbegin",galleryArrowBefore),e.insertAdjacentHTML("beforeend",galleryArrowAfter);var t=e.closest(".gallery-swiper").getAttribute("data-columns"),o=null===t?1:parseInt(t),t=e.querySelectorAll("ul li");1<t.length&&o<t.length&&e.querySelector(".next").classList.remove("hidden");e=document.querySelectorAll(".gallery-swiper .arrow");0<e.length&&Array.from(e).forEach(function(e){e.addEventListener("click",clickArrow),e.addEventListener("keypress",clickArrow)})}function clickArrow(){var e,t=this.closest(".gallery-swiper"),o=this.closest(".gallery-swiper").getAttribute("data-columns"),r=this.closest(".gallery-swiper").getAttribute("data-columnspace"),a=t.getElementsByTagName("ul"),n=t.querySelector(".back"),s=t.querySelector(".next"),i=null===o?1:parseInt(o),l=parseInt(r),t=a[0].scrollWidth,o=a[0].children[0].clientWidth+(isNaN(l)?0:l),r=a[0].scrollLeft-o,l=a[0].scrollLeft+o,i=t-o*i;this.classList.contains("back")?e=r:this.classList.contains("next")&&(e=l),a[0].scroll({left:e,behavior:"smooth"}),0==e||e<o?n.classList.add("hidden"):n.classList.remove("hidden"),e==i||i<e?s.classList.add("hidden"):s.classList.remove("hidden")}0<activeGalleries.length&&Array.from(activeGalleries).forEach(function(e){e.setAttribute("data-id",uniqueID())});var activeSwipers=document.querySelectorAll(".gallery-swiper");function checkImgArrows(e){var t=document.querySelector(".popup > .popup-container > .back"),o=document.querySelector(".popup > .popup-container > .next");null===e.previousElementSibling?t.classList.add("hidden"):t.classList.remove("hidden"),null===e.nextSibling?o.classList.add("hidden"):o.classList.remove("hidden")}function getNextImg(){var e,t=document.querySelector(".popup > .popup-container > .popup-content").getAttribute("data-id"),o=document.querySelector(".popup > .popup-container > .popup-content > img, .popup > .popup-container > .popup-content > audio, .popup > .popup-container > .popup-content > video").getAttribute("data-id"),o=document.querySelector('[data-id="'+t+'"] li[data-id="'+o+'"] figure').closest("li");this.classList.contains("next")?e=o.nextSibling:this.classList.contains("back")&&(e=o.previousSibling);o=e.querySelector("img, audio, video");document.querySelector(".popup > .popup-container > .popup-content").innerHTML="",document.querySelector(".popup > .popup-container > .popup-content").appendChild(o.cloneNode()),checkImgArrows(e),PreviewImages(o)}function PreviewImages(e){var t=e.closest("li"),o=t.nextSibling,r=t.previousSibling,e=document.querySelector(".popup > .popup-next-preview"),t=document.querySelector(".popup > .popup-back-preview");e&&(document.querySelector(".popup > .popup-next-preview").innerHTML="",null!==o&&document.querySelector(".popup > .popup-next-preview").appendChild(o.querySelector("img, audio, video").cloneNode())),t&&(document.querySelector(".popup > .popup-back-preview").innerHTML="",null!==r&&document.querySelector(".popup > .popup-back-preview").appendChild(r.querySelector("img, audio, video").cloneNode()))}function loadGalleryPopUp(){loadPopUp(),setTimeout(function(e){var t=document.querySelector(".popup > .popup-container > .popup-content");t.insertAdjacentHTML("beforebegin",galleryArrowBefore),t.appendChild(e.cloneNode()),t.insertAdjacentHTML("afterend",galleryArrowAfter);var o=e.closest(".add-popup");t.setAttribute("data-id",o.getAttribute("data-id")),o.classList.contains("popup-preview")&&(document.querySelector(".popup").insertAdjacentHTML("afterbegin",'<div class="popup-back-preview"></div>'),document.querySelector(".popup").insertAdjacentHTML("beforeend",'<div class="popup-next-preview"></div>'),document.querySelector(".popup > .popup-container").classList.add("popup-preview"),PreviewImages(e));o=e.closest("li"),e=document.querySelectorAll(".popup > .popup-container > .arrow");0<e.length&&Array.from(e).forEach(function(e){e.addEventListener("click",getNextImg),e.addEventListener("keypress",getNextImg)}),checkImgArrows(o)},100,this)}0<activeSwipers.length&&Array.from(activeSwipers).forEach(function(e){addNavArrows(e)});var activeGalleryPopUps=document.querySelectorAll(".add-popup > ul > li > figure > img");0<activeGalleryPopUps.length&&Array.from(activeGalleryPopUps).forEach(function(e){e.addEventListener("click",loadGalleryPopUp),e.addEventListener("keypress",loadGalleryPopUp)});var gmapCircle=function(e,t,o){return"data:image/svg+xml;base64,"+window.btoa('<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-50 -50 100 100"><g fill="'+e+'" stroke="'+o+'" stroke-width="'+t+'"><circle r="50"/><use xlink:href="#a"/></g></svg>')},customSVG=function(e){return"CUSTOM SVG KEY"==e&&0,"data:image/svg+xml;base64,"+window.btoa(svg)};function new_STmap(e){var r=null,t=450,o=9,a="40",n="15",s="#FFF",i="#000",l="#000",c=0,u=0,d="#FFF",p="0",g="#FFF",m=gmapCircle(d,p,g),f=e.querySelector(".swisstopo-map").getAttribute("id");e.getAttribute("data-resolution")&&(t=e.getAttribute("data-resolution")),e.getAttribute("data-zoom")&&(o=e.getAttribute("data-zoom")),e.getAttribute("data-cluster-distace")&&(a=e.getAttribute("data-cluster-distace")),e.getAttribute("data-cluster-radius")&&(n=e.getAttribute("data-cluster-radius")),e.getAttribute("data-cluster-x")&&(c=e.getAttribute("data-cluster-x")),e.getAttribute("data-cluster-y")&&(u=e.getAttribute("data-cluster-y")),e.getAttribute("data-cluster-stroke")&&(i=e.getAttribute("data-cluster-stroke")),e.getAttribute("data-cluster-bg")&&(s=e.getAttribute("data-cluster-bg")),e.getAttribute("data-cluster-color")&&(l=e.getAttribute("data-cluster-color"));for(var y=e.querySelectorAll(".swisstopo-markers .marker").length,h=new Array(y),v=0;v<y;++v){var b=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-lat"),w=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-lng"),k=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-marker"),S=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").html(),A=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-marker-color"),L=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-marker-size"),q=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-marker-stroke-width"),x=document.querySelector(".swisstopo-markers .marker[data-count='"+v+"']").getAttribute("data-marker-stroke-color");w="WGS"==e.attr("data-coordinates")?Swisstopo.WGStoCH(b,w,!0):"CH1903"==e.attr("data-coordinates")?Swisstopo.WGStoCH(b,w):[b,w],h[v]=new ol.Feature({element:S,marker:k,marker_color:A,marker_size:L,marker_stroke_width:q,marker_stroke_color:x,geometry:new ol.geom.Point(w)})}var E=new ol.source.Vector({features:h}),a=new ol.source.Cluster({distance:a,source:E}),E=(new ol.layer.Tile({source:new ol.source.OSM}),ga.layer.create("ch.swisstopo.pixelkarte-farbe")),C={},a=new ol.layer.Vector({source:a,style:function(e){var t,o=e.get("features").length;return C[o]||(1<o?[new ol.style.Style({image:new ol.style.Circle({radius:n,stroke:new ol.style.Stroke({color:i}),fill:new ol.style.Fill({color:s})}),text:new ol.style.Text({text:o.toString(),offsetX:c,offsetY:u,fill:new ol.style.Fill({color:l})})})]:(e.D.features[0].D.marker_size&&(t=e.D.features[0].D.marker_size/10),e.D.features[0].D.marker_color&&(d=e.D.features[0].D.marker_color),e.D.features[0].D.marker_stroke_width&&(p=e.D.features[0].D.marker_stroke_width),e.D.features[0].D.marker_stroke_color&&(g=e.D.features[0].D.marker_stroke_color),m=e.D.features[0].D.marker?customSVG(e.D.features[0].D.marker):gmapCircle(d,p,g),[new ol.style.Style({image:new ol.style.Icon({radius:20,anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:m,scale:t})})]))}}),r=new ga.Map({view:new ol.View({center:[266e4,119e4],resolution:t,zoom:o}),layers:[E,a],target:f}),e=document.getElementById("swisstopo-popup"),S=document.getElementById("swisstopo-popup-content"),T=document.getElementById("swisstopo-popup-closer"),M=new ol.Overlay({element:e,autoPan:!0,autoPanAnimation:{duration:200}});r.addOverlay(M),T.onclick=function(){return M.setPosition(void 0),T.blur(),!1},r.on("pointermove",function(e){e=r.forEachFeatureAtPixel(e.pixel,function(e,t){return e});r.getTargetElement().style.cursor=e?"pointer":""}),r.on("singleclick",function(e){var t=e.pixel,o=e.coordinate;console.log(o);e=r.forEachFeatureAtPixel(t,function(e,t){return e}),$(M.getElement());e?1<e.get("features").length?(r.getView().setZoom(r.getView().getZoom()+1),t=e.getGeometry(),r.getView().setCenter([t.B[0],t.B[1]])):($(S).empty(),M.setPosition(o),$(S).html(e.D.features[0].D.element)):$(T).trigger("click")})}var Swisstopo={WGStoCH:function(e,t,o){return[this.WGStoCHy(e,t,o),this.WGStoCHx(e,t,o)]},WGStoCHx:function(e,t,o){e=((e=this.DECtoSEX(e))-169028.66)/1e4,t=((t=this.DECtoSEX(t))-26782.5)/1e4;return x=200147.07+308807.95*e+3745.25*Math.pow(t,2)+76.63*Math.pow(e,2)-194.56*Math.pow(t,2)*e+119.79*Math.pow(e,3),x_plus=parseFloat(x)+1e6,1==o?x_plus:x},WGStoCHy:function(e,t,o){e=((e=this.DECtoSEX(e))-169028.66)/1e4,t=((t=this.DECtoSEX(t))-26782.5)/1e4;return y=600072.37+211455.93*t-10938.51*t*e-.36*t*Math.pow(e,2)-44.54*Math.pow(t,3),y_plus=parseFloat(y)+2e6,1==o?y_plus:y},CHtoWGS:function(e,t,o){return[this.CHtoWGSlng(e,t,o),this.CHtoWGSlat(e,t,o)]},CHtoWGSlat:function(e,t,o){1==o&&(t=t.substr(1),e=e.substr(1));e=(e-6e5)/1e6,t=(t-2e5)/1e6;return 100*(16.9023892+3.238272*t-.270978*Math.pow(e,2)-.002528*Math.pow(t,2)-.0447*Math.pow(e,2)*t-.014*Math.pow(t,3))/36},CHtoWGSlng:function(e,t,o){1==o&&(t=t.substr(1),e=e.substr(1));e=(e-6e5)/1e6,t=(t-2e5)/1e6;return 100*(2.6779094+4.728982*e+.791484*e*t+.1306*e*Math.pow(t,2)-.0436*Math.pow(e,3))/36},DECtoSEX:function(e){var t=parseInt(e),o=parseInt(60*(e-t));return 60*(60*(e-t)-o)+60*o+3600*t}},swissTopoMaps=document.querySelectorAll(".swiss-topo");0!==swissTopoMaps.length&&Array.from(swissTopoMaps).forEach(function(e){new_STmap(e)});